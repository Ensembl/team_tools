#!/bin/bash


# This sets the ensembl version used by the Otterlace client,
#   in ensembl-otter/dist/conf/client_ensembl_version


. "$( dirname "$0" )/_otterlace.sh" || exit 1


# check the usage
client_ensembl_version="$1"
[ -n "$client_ensembl_version" ] || bail "usage: $( basename "$0" ) <client_ensembl_version>"

$dist_scripts/git-is-synced || bail "The repository is not in sync, aborting"

config_set client_ensembl_version "$client_ensembl_version" &&
git commit -a -m "$( printf "Client EnsEMBL version set to %d.\n\nGenerated by %s\n" "$client_ensembl_version" "$thisprog" )" &&
printf "\n\nExpecting you to push now!\n" &&
true
